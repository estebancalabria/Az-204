## 

## 

[Links Utiles](#links-utiles)

[Bajar Repos](#bajar-repos)

[Links Labs](#links-labs)

[Instalación Cli Necesarios](#instalación-cli-necesarios)

[Instalar Comando Powershell AZ](#instalar-comando-powershell-az)

[Azure Functions Core Tools](#azure-functions-core-tools)

[Instalar HttpRepl](#instalar-httprepl)

[Azure Function Core Tools](#azure-function-core-tools)

[Crear una function app nueva](#crear-una-function-app-nueva)

[Hacer deploy de una function app](#hacer-deploy-de-una-function-app)

[Helpers Powershell](#helpers-powershell)

[Permitir Ping por Powershell](#permitir-ping-por-powershell)

[Instalar Remote Management desde Powershell](#instalar-remote-management-desde-powershell)

[Habilitar IP Forwarding a nivel Sistema Operativo](#habilitar-ip-forwarding-a-nivel-sistema-operativo)

[Instalar IIS por Powershell](#instalar-iis-por-powershell)

[Usar Comando AZ](#usar-comando-az)

[Loguearse en Azure](#loguearse-en-azure)

[Resource Group](#resource-group)

[Crear Resource Group](#crear-resource-group)

[Eliminar un Resource Group](#eliminar-un-resource-group)

[ARM Template](#arm-template)

[Deploy de un ARM Template](#deploy-de-un-arm-template)

[Account](#account)

[Listar Subscripciones](#listar-subscripciones)

[Setear Suscripcion Actual](#setear-suscripcion-actual)

[Storage Account](#storage-account)

[Crear Storage Account](#crear-storage-account)

[Az](#az)

[Crear un Blob Container en un Storage Account](#crear-un-blob-container-en-un-storage-account)

[Subir un archivo a un blob container](#subir-un-archivo-a-un-blob-container)

[Generar un SAS (Shared Access Signature) URL para un blob](#generar-un-sas-\(shared-access-signature\)-url-para-un-blob)

[Key Vault](#key-vault)

[Crear una Key Vault](#crear-una-key-vault)

[Login](#login)

[AppService Plan](#appservice-plan)

[Listar Planes](#listar-planes)

[Crear Un Plan](#crear-un-plan)

[AppService](#appservice)

[Listar WebApps](#listar-webapps)

[Crear una WebApp](#crear-una-webapp)

[Listar los Runtimes](#listar-los-runtimes)

[Hacer Deploy de una Web App Desde un Zip (2\<\<\<)](#hacer-deploy-de-una-web-app-desde-un-zip-\(2\<\<\<\))

[Hacer Deploy de una Web App desde Git](#hacer-deploy-de-una-web-app-desde-git)

[Configurar una App](#configurar-una-app)

[Function App](#function-app)

[Crear una function app](#crear-una-function-app)

[Crear Function App Eligiendo el Plan](#crear-function-app-eligiendo-el-plan)

[Deploy de una Function App](#deploy-de-una-function-app)

[Disk](#disk)

[Crear un disco](#crear-un-disco)

[Public IP](#public-ip)

[Crear Una IP Publica](#crear-una-ip-publica)

[Virtual Network](#virtual-network)

[Crear Una Virtual Network](#crear-una-virtual-network)

[Crear Una Subnet](#crear-una-subnet)

[Network Security Group](#network-security-group)

[Crear un Network Security Group](#crear-un-network-security-group)

[Agregar una Regla para habilitar RDP](#agregar-una-regla-para-habilitar-rdp)

[Virtual Machines](#virtual-machines)

[Ver Lista de imagenes disponibles](#ver-lista-de-imagenes-disponibles)

[Crear una Máquina Virtual Debian](#crear-una-máquina-virtual-debian)

[Crear Una Maquina Virtual con Ip, NSG y VNet existentes](#crear-una-maquina-virtual-con-ip,-nsg-y-vnet-existentes)

[Crear una Maquina Virtual Sin Ip Publica](#crear-una-maquina-virtual-sin-ip-publica)

[Reiniciar una Maquina Virtual](#reiniciar-una-maquina-virtual)

[Azure Container Registry](#azure-container-registry)

[Chequear disponibilidad de un nombre de un Azure Container Registry](#chequear-disponibilidad-de-un-nombre-de-un-azure-container-registry)

[Crear un Azure Container Registry](#crear-un-azure-container-registry)

[Subir una imagen a un Container Registry](#subir-una-imagen-a-un-container-registry)

[Crear un container Instance desde una imagen en un Container Registry](#crear-un-container-instance-desde-una-imagen-en-un-container-registry)

[Kubernetes](#kubernetes)

[Obtener Credenciales Kubenetes](#obtener-credenciales-kubenetes)

[Listar Nodos Kubernetes](#listar-nodos-kubernetes)

[Aplicar Imagen](#aplicar-imagen)

[Obtener Información Contenedor Desplegado](#obtener-información-contenedor-desplegado)

[Listar Pods](#listar-pods)

[Conectarse a un pod](#conectarse-a-un-pod)

[Sql Sever](#sql-sever)

[Crear un Sql Server](#crear-un-sql-server)

[Usar Comando Powershell](#usar-comando-powershell)

[Generales](#generales)

[Probar Conexión entre máquinas](#probar-conexión-entre-máquinas)

[Loguearse en Azure](#loguearse-en-azure-1)

[Resource Group](#resource-group-1)

[Crear Un Resource Group](#crear-un-resource-group)

[Active Directory](#active-directory)

[Conectarse al AD](#conectarse-al-ad)

[Obtener Nombre Tenant Actual](#obtener-nombre-tenant-actual)

[Crear un objeto Password](#crear-un-objeto-password)

[Crear un usuario de AD Nuevo](#crear-un-usuario-de-ad-nuevo)

[Listar Roles  RBAC](#listar-roles-rbac)

[Obtener operaciones de un Resource Provider](#obtener-operaciones-de-un-resource-provider)

[Crear un Rol RBAC Custom](#crear-un-rol-rbac-custom)

[Asignar un Rol RBAC a nivel suscripción](#asignar-un-rol-rbac-a-nivel-suscripción)

[Ver Roles RBAC Asignados a un usuario](#ver-roles-rbac-asignados-a-un-usuario)

[ARM Templates](#arm-templates)

[Hacer Deploy de un ARM Template](#hacer-deploy-de-un-arm-template)

[Virtual Machines](#virtual-machines-1)

[Listar Máquinas Virtuales](#listar-máquinas-virtuales)

[Instalar una extension en una Virtual Machine](#instalar-una-extension-en-una-virtual-machine)

[Conectarse a una Virtual de Linux por ssh](#conectarse-a-una-virtual-de-linux-por-ssh)

## 

## 

# Links Utiles {#links-utiles}

## Bajar Repos {#bajar-repos}

[https://github.com/MicrosoftLearning/AZ-204-DevelopingSolutionsforMicrosoftAzure](https://github.com/MicrosoftLearning/AZ-204-DevelopingSolutionsforMicrosoftAzure)

## Links Labs {#links-labs}

https://microsoftlearning.github.io/AZ-204-DevelopingSolutionsforMicrosoftAzure/

Set-ExecutionPolicy \-ExecutionPolicy RemoteSigned \-Scope CurrentUser  
Install-Module \-Name Az \-Scope CurrentUser \-Repository PSGallery \-Force

# Instalación Cli Necesarios {#instalación-cli-necesarios}

## Instalar Comando Powershell AZ {#instalar-comando-powershell-az}

[https://docs.microsoft.com/en-us/cli/azure/install-azure-cli-windows?view=azure-cli-latest\&tabs=azure-cli](https://docs.microsoft.com/en-us/cli/azure/install-azure-cli-windows?view=azure-cli-latest&tabs=azure-cli)

## Azure Functions Core Tools {#azure-functions-core-tools}

https://learn.microsoft.com/en-us/azure/azure-functions/functions-run-local?tabs=v4%2Cwindows%2Ccsharp%2Cportal%2Cbash

## Instalar HttpRepl {#instalar-httprepl}

dotnet tool install \-g Microsoft.dotnet-httprepl

# Azure Function Core Tools {#azure-function-core-tools}

## Crear una function app nueva {#crear-una-function-app-nueva}

func new \--name func-deploy-me \--language dotnet

## Hacer deploy de una function app {#hacer-deploy-de-una-function-app}

func azure functionapp publish \<nombre-function-app\> \--force

# Helpers Powershell {#helpers-powershell}

## Permitir Ping por Powershell {#permitir-ping-por-powershell}

netsh advfirewall firewall add rule name="ICMP Allow incoming V4 echo request" protocol=icmpv4:8,any dir=in action=allow

New-NetFirewallRule \-DisplayName "ICMP Allow Ping V4" \-Direction Inbound \-Protocol ICMPv4 \-IcmpType 8 \-Action Allow

## Instalar Remote Management desde Powershell {#instalar-remote-management-desde-powershell}

Install-WindowsFeature RemoteAccess \-IncludeManagementTools

## Habilitar IP Forwarding a nivel Sistema Operativo {#habilitar-ip-forwarding-a-nivel-sistema-operativo}

Install-WindowsFeature \-Name Routing \-IncludeManagementTools \-IncludeAllSubFeature  
Install-WindowsFeature \-Name "RSAT-RemoteAccess-Powershell"  
Install-RemoteAccess \-VpnType RoutingOnly  
Get-NetAdapter | Set-NetIPInterface \-Forwarding Enabled

## Instalar IIS por Powershell {#instalar-iis-por-powershell}

Install-WindowsFeature \-name Web-Server \-IncludeManagementTools  
	(Abre el 80 y 443 en el firewal de windows automaticamente)

---

# Usar Comando AZ

- ## Loguearse en Azure 

az Login

## Resource Group

- ### Crear Resource Group 

```bash

az group create --name Rg-Az204-Clase-Tres --location eastus

```

- ### Eliminar un Resource Group {#eliminar-un-resource-group}

```

az group delete --resource-group Rg-Temp

```

---

## ARM Template 

- ### Deploy de un ARM Template 

```
az deployment group create --resource-group Rg-Az104-Lab3b --template-file ./new-template.json
```

## Account {#account}

### Listar Subscripciones {#listar-subscripciones}

Get-AzSubscription

### Setear Suscripcion Actual {#setear-suscripcion-actual}

az account set \--subscription \<name or id\>

## 

## Storage Account {#storage-account}

### Crear Storage Account {#crear-storage-account}

#### Az {#az}

az storage account create \--name sa4trainner4fapp \--resource-group Rg-Az204-Clase8-Trainner \--location eastus \--sku Standard\_LRS

az storage account create \--name storemedia4trainner \--resource-group Rg-Az204-Clase-Cuatro \--location eastus \--sku Standard\_LRS \--kind StorageV2

### Crear un Blob Container en un Storage Account {#crear-un-blob-container-en-un-storage-account}

az storage container create \--name demo-container \--connection-string DefaultEndpointsProtocol=https;AccountName=storemedia4trainner;AccountKey=dq2C87Aupd9wN83aMY8qmSOq4r74b5CQC71dMILsXEMoDViGS8O7pkz/LClOEKAvhdv63w+cGN+2+AStoFISIw==;EndpointSuffix=core.windows.net

O bien

az storage container create \--account-name sa4cosmo4trainner \--name images \--public-access blob

### Subir un archivo a un blob container {#subir-un-archivo-a-un-blob-container}

az storage blob directory upload \--container demo-container \--source db.json \--account-name storemedia4trainner \--destination-path .

	O bien…

az storage blob directory upload \--container demo-container \--source db.json \--connection-string DefaultEndpointsProtocol=https;AccountName=storemedia4trainner;AccountKey=dq2C87Aupd9wN83aMY8qmSOq4r74b5CQC71dMILsXEMoDViGS8O7pkz/LClOEKAvhdv63w+cGN+2+AStoFISIw==;EndpointSuffix=core.windows.net \--destination-path .

### Generar un SAS (Shared Access Signature) URL para un blob {#generar-un-sas-(shared-access-signature)-url-para-un-blob}

az storage blob generate-sas \--account-name cs4trainner \--name template.json \--container-name private-contaner \--permission r  \--auth-mode login \--as-user  \--full-uri \--expiry "2023-01-08" 

## Key Vault {#key-vault}

### Crear una Key Vault {#crear-una-key-vault}

az keyvault create \--name key4trainner \--resource-grouo Rg-Az204-Clase8-Trainner  \--location eastus \--sku standard**\--enable-purge-protection $true \--retention-days 90**

## 

## Login {#login}

Az login

---

## AppService Plan 

- ### Listar Planes {#listar-planes}

```
az appservice plan list
```

- ### Crear Un Plan {#crear-un-plan}

```
az appservice plan create \--name Plan-Free \--resource-group Rg-Az204-Clase8-Trainner \--location eastus \--sku F1
```

```
az appservice plan create \--name Plan-Free-Linux \--resource-group Rg-Az204-Clase8-Trainner \--location eastus \--sku F1 **\--is-linux**
```

- ### Borrar un Plan

```
az appservice plan delete \--name Plan-Free \--resource-group Rg-Az204-Clase8-Trainner
```

---

## AppService 

- ### Listar WebApps

```
az webapp list
```

- ### Crear una WebApp 

(EL PLAN TIENE QUE EXISTIR)

```
az webapp create --name app-az204-frontend-trainner --plan ASP-RgAz204ClaseDos-a2d9 \--resource-group Rg-Az204-Clase-Dos \--runtime "dotnet:6"
```

- ### Listar los Runtimes {#listar-los-runtimes}

```
az webapp list-runtimes --os-type linux 
```

- ### Hacer Deploy de una Web App Desde un Zip (2\<\<\<) {#hacer-deploy-de-una-web-app-desde-un-zip-(2<<<)}

* Requisito. Tener Instalado el comando AZ y loguearse el cli de azure

```bash

az login

```

* Primero Compilamos la aplicacion

```bash

dotnet publish -c Release

```

Pararese en la careta donde esta el release

```bash

cd bin\Release\net9.0\publish\

```

* Comprimir dontenido de la capeta publish en un zip. Por ejemplo app.zip

```bash

az webapp deploy --resource-group Rg-Az204-Clase-Siete-Trainner --name AwesomeApp4Trainner --src-path app.zip

```

- ### Hacer Deploy de una Web App desde Git {#hacer-deploy-de-una-web-app-desde-git}

```
az webapp deployment source config \--name appClaseDiez \--resource-group Rg-Az204-Clase-Diez \--repo-url  --branch main
```

- ### Hacer deploy y crear el app service y el plan al mismo tiempo

```
az webapp up --resource-group rg-az204-bs-clase-18 --name webapp4trainner --plan plan-windows     
```

- ### Configurar una App {#configurar-una-app}

```
(Agregar una entrada en el appsettings)

az webapp config appsettings set \-g Rg-Az204-Clase-Dos \-n app-az204-frontend-trainner \--settings ApiUrl=[https://app-az204-api-trainner.azurewebsites.net/](https://app-az204-api-trainner.azurewebsites.net/)
```

---

## Function App {#function-app}

### Crear una function app {#crear-una-function-app}

	(Con Application Insights Automatico)
```
az functionapp create \--name func4deploy \--resource-group Rg-Az204-Clase-Cuatro \--storage-account storemedia4trainner \--runtime dotnet \--consumption-plan-location eastus
```

### Crear Function App Eligiendo el Plan {#crear-function-app-eligiendo-el-plan}

```
az functionapp create \--name Fun-Az204-Trainner \--resource-group Rg-Az204-Clase8-Trainner \--runtime dotnet \--runtime-version 6 \--os-type Linux \--plan Plan-Free-Linux-Trainner  \--storage-account sa4trainner4fapp \--functions-version 4
```

### Deploy de una Function App {#deploy-de-una-function-app}

```
az functionapp deployment source config-zip \--resource-group rg-az204-lab-dos \--name func4trainner \--src func.zip
```

---

## Disk {#disk}

### Crear un disco {#crear-un-disco}

az disk create \--name Disk-Vm \--size-gb 8 \--resource-group Rg-Az104-Clase-Ocho \--location eastus

## Public IP {#public-ip}

### Crear Una IP Publica {#crear-una-ip-publica}

az network public-ip create \--name IP-PublicVm \--resource-group Rg-Az500-Clase-Cuatro \--location Eastus \--sku Standard

## Virtual Network {#virtual-network}

### Crear Una Virtual Network {#crear-una-virtual-network}

az network vnet create \--name Vnet-Az500-Clase-Cuatro \--resource-group Rg-Az500-Clase-Cuatro \--location eastus \--adress-prefixes 10.0.0.0/16 \--subnet-name SubNet-Jump \--subnet-prefixes 10.0.3.0/24 

### Crear Una Subnet {#crear-una-subnet}

az network vnet subnet create \--name SubNet-Work \--resource-group Rg-Az500-Clase-Cuatro \--vnet-name VNet-Az500-Clase-Cuatro \--address-prefixes 10.0.2.0/24 

## Network Security Group {#network-security-group}

### Crear un Network Security Group {#crear-un-network-security-group}

az network nsg create \--name Nsg-Az500-Clase-Cuatro \--location eastus \--resource-group Rg-Az500-Clase-Cuatro

### Agregar una Regla para habilitar RDP {#agregar-una-regla-para-habilitar-rdp}

az network nsg rule create \--resource-group Rg-Az500-Clase-Cuatro \--nsg-name Nsg-Az500-Clase-Cuatro \--priority 100 \--name "Allow\_RDP" \--destination-port 3389 \--access Allow \--protocol tcp

## Virtual Machines {#virtual-machines}

### Ver Lista de imagenes disponibles {#ver-lista-de-imagenes-disponibles}

az vm image list

### Crear una Máquina Virtual Debian {#crear-una-máquina-virtual-debian}

az vm create \--resource-group Rg-Az204-Clase-Seis-Trainner \--name Vm-Az204-Clase-Seis-Trainner \--image Debian \--admin-username azureuser \--admin-password Pa55w.rd1234

### Crear Una Maquina Virtual con Ip, NSG y VNet existentes {#crear-una-maquina-virtual-con-ip,-nsg-y-vnet-existentes}

az vm create \--name Vm-Jump \--resource-group Rg-Az500-Clase-Cuatro \--location Eastus \--image Win2019Datacenter \--public-ip-address IP-PublicVm \--vnet-name Vnet-Az500-Clase-Cuatro \--subnet SubNet-Jump \--nsg Nsg-Az500-Clase-Cuatro \--admin-username AzureUser \--admin-password Pa55w.rd1234 \--size Standard\_DS1\_v2

### Crear una Maquina Virtual Sin Ip Publica {#crear-una-maquina-virtual-sin-ip-publica}

az vm create \--name Vm-Work \--resource-group Rg-Az500-Clase-Cuatro \--location Eastus \--image Win2019Datacenter \--vnet-name Vnet-Az500-Clase-Cuatro \--subnet SubNet-Work \--nsg Nsg-Az500-Clase-Cuatro \--admin-username AzureUser \--admin-password Pa55w.rd1234 \--size Standard\_DS1\_v2 **\--public-ip-address ""**

### Reiniciar una Maquina Virtual {#reiniciar-una-maquina-virtual}

az vm restart \--name Vm-Tricampeon \--resource-group Rg-Az104-Clase-Ocho

## Azure Container Registry {#azure-container-registry}

### Chequear disponibilidad de un nombre de un Azure Container Registry {#chequear-disponibilidad-de-un-nombre-de-un-azure-container-registry}

az acr check-name \--name acr4trainner

### Crear un Azure Container Registry {#crear-un-azure-container-registry}

az acr create \--resource-group Rg-Az204-Clase-Seis-Trainner \--name acr4trainner \--sku Basic

### Subir una imagen a un Container Registry {#subir-una-imagen-a-un-container-registry}

az acr build \--registry acr4trainner \--image ipcheck:latests .

az acr build \--resource-group Rg-Az500-Clase-Cinco \--registry acr4trainner \--file Dockerfile . \--image  my-super-nginx

### Crear un container Instance desde una imagen en un Container Registry {#crear-un-container-instance-desde-una-imagen-en-un-container-registry}

az container create \--resource-group Rg-Az204-Clase-Seis-Trainner \--name docker-4-trainner-ext-2 \--image acr4trainner.azurecr.io/ipcheck:latest2 \--assign-identity

## Kubernetes {#kubernetes}

### Obtener Credenciales Kubenetes {#obtener-credenciales-kubenetes}

az aks get-credentials \--resource-group Rg-Az500-Clase-Cinco \--name Kubernetes-Az500-Clase-Cinco

### Listar Nodos Kubernetes {#listar-nodos-kubernetes}

kubectl get nodes                       

### Aplicar Imagen {#aplicar-imagen}

kubectl apply \-f ./nginxexternal.yaml

### Obtener Información Contenedor Desplegado {#obtener-información-contenedor-desplegado}

kubectl get service nginxexternal 

### Listar Pods {#listar-pods}

kubectl get pods 

### Conectarse a un pod {#conectarse-a-un-pod}

kubectl exec \-it nginxinternal-64f8488fd7-qm926 \-- /bin/bash

## Sql Sever {#sql-sever}

### Crear un Sql Server {#crear-un-sql-server}

az sql server create \--resource-group Rg-Az500-Clase-Siete \--name sql-Az500-Clase-Siete \--admin-user azureuser \--admin-password Pa55w.rd1234

## 

# Usar Comando Powershell {#usar-comando-powershell}

## Generales {#generales}

### Probar Conexión entre máquinas {#probar-conexión-entre-máquinas}

 Test-NetConnection \-ComputerName 10.50.0.4 \-Port 3389

## Loguearse en Azure {#loguearse-en-azure-1}

Connect-AzAccount 

## Resource Group {#resource-group-1}

### Crear Un Resource Group {#crear-un-resource-group}

New-AzResourceGroup \-name Rg-Az104-Lab3c \-location eastus

## Active Directory {#active-directory}

### Conectarse al AD {#conectarse-al-ad}

Connect-AzureAD

### Obtener Nombre Tenant Actual {#obtener-nombre-tenant-actual}

(Get-AzureADTenantDetail).VerifiedDomains\[0\].Name

### Crear un objeto Password {#crear-un-objeto-password}

$pass \= New-Object \-TypeName Microsoft.Open.AzureAD.Model.PasswordProfile  
$pass.Password \= "Pa55w.rd1234"  
$pass.ForceChangePasswordNextLogin \= $false

### Crear un usuario de AD Nuevo {#crear-un-usuario-de-ad-nuevo}

New-AzureADUser \-AccountEnabled $true \-DisplayName "AppUser4Trainner" \-PasswordProfile $pass \-MailNickName "AppUser4Trainner" \-UserPrincipalName "[AppUser4Trainner@estebancalabriagmail.onmicrosoft.com](mailto:AppUser4Trainner@estebancalabriagmail.onmicrosoft.com)"

O Bien…

$password \= "xxxxxxxxxx"  
$pp \= New-Object \-TypeName "Microsoft.Azure.PowerShell.Cmdlets.Resources.MSGraph.Models.ApiV10.IMicrosoftGraphPasswordProfile" \-Property @{Password=$password}  
New-AzADUser \-DisplayName $uname \-PasswordProfile $pp \-AccountEnabled $true \-MailNickname $nickname \-UserPrincipalName $upn

### Listar Roles  RBAC {#listar-roles-rbac}

Get-AzRoleDefinition | ConvertTo-Json  
Get-AzureRmRoleDefinition

### Obtener operaciones de un Resource Provider {#obtener-operaciones-de-un-resource-provider}

Get-AzProviderOperation "Microsoft.Compute/\*"  
Get-AzProviderOperation "Microsoft.Resources/subscriptions/resourcegroups/\*"

### Crear un Rol RBAC Custom {#crear-un-rol-rbac-custom}

{  
 "Name": "Custom Resource Group Creator 2",  
 "IsCustom": true,  
 "Description": "Permite Resource Groups 2",  
 "Actions": \[  
   "Microsoft.Resources/subscriptions/resourcegroups/\*"  
 \],  
 "NotActions": \[  
 \],  
 "DataActions": \[\],  
 "NotDataActions": \[\],  
 "AssignableScopes": \[  
   "/subscriptions/91dc3067-fd7a-4ed3-95eb-8c938f69cbfe"  
 \]  
}

**(NO OLVIDAR CAMBIAR EL ID DE LA SUBCRIPCION)**

New-AzRoleDefinition \-InputFile "./my-custom-role.json" 

### Asignar un Rol RBAC a nivel suscripción {#asignar-un-rol-rbac-a-nivel-suscripción}

New-AzRoleAssignment \-SignInName rgcreator@estebancalabriagmail.onmicrosoft.com \-RoleDefinitionName "Custom Resource Group Creator" \-Scope "/subscriptions/91dc3067-fd7a-4ed3-95eb-8c938f69cbfe"

### Ver Roles RBAC Asignados a un usuario {#ver-roles-rbac-asignados-a-un-usuario}

Get-AzRoleAssignment \-SignInName rgcreator@estebancalabriagmail.onmicrosoft.com

## ARM Templates {#arm-templates}

### Hacer Deploy de un ARM Template {#hacer-deploy-de-un-arm-template}

New-AzResourceGroupDeployment \-ResourceGroupName Rg-Az104-Clase-Seis \-TemplateFile ./az104-05-vnetvm-loop-template.json \-TemplateParameterFile ./az104-05-vnetvm-loop-parameters.json \-location1 eastus \-location2 westus 

## Virtual Machines {#virtual-machines-1}

### Listar Máquinas Virtuales {#listar-máquinas-virtuales}

Get-AzVM \-ResourceGroup az104-06-rg1 

### Instalar una extension en una Virtual Machine {#instalar-una-extension-en-una-virtual-machine}

Set-AzVMExtension \-ResourceGroup az104-06-rg1 \-Location eastus \-VmName az104-06-vm1 \-Name networkWatcherAgent \-Publisher Microsoft.Azure.NetworkWatcher \-Type NetworkWatcherAgentWindows \-TypeHandlerVersion 1.4

### Conectarse a una Virtual de Linux por ssh {#conectarse-a-una-virtual-de-linux-por-ssh}

ssh azureuser@20.231.97.34
